<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Royal Bet Premium</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root {
            --bg: #090c10;
            --card: #161b22;
            --nav: rgba(22, 27, 34, 0.96);
            --accent: #238636; /* –ó–µ–ª–µ–Ω—ã–π "–¥–æ—Ä–æ–≥–æ–π" —Ü–≤–µ—Ç */
            --accent-blue: #2f81f7;
            --text: #f0f6fc;
            --text-sub: #8b949e;
            --danger: #da3633;
            --border: #30363d;
        }

        body {
            background-color: var(--bg);
            color: var(--text);
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            margin: 0;
            padding: 0;
            padding-bottom: 95px;
            -webkit-font-smoothing: antialiased;
            user-select: none;
        }

        /* HEADER */
        .header {
            position: sticky;
            top: 0;
            background: rgba(9, 12, 16, 0.85);
            backdrop-filter: blur(12px);
            padding: 12px 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--border);
            z-index: 50;
        }
        .logo { font-weight: 800; font-size: 19px; letter-spacing: -0.5px; }
        .logo span { color: var(--accent); }
        .balance {
            background: #21262d;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            border: 1px solid var(--border);
            display: flex;
            align-items: center;
            gap: 6px;
        }

        /* TABS */
        .sport-scroll {
            display: flex;
            gap: 8px;
            padding: 12px 16px;
            overflow-x: auto;
            scrollbar-width: none;
        }
        .sport-scroll::-webkit-scrollbar { display: none; }
        .tab {
            padding: 8px 16px;
            background: var(--card);
            border-radius: 100px;
            font-size: 13px;
            color: var(--text-sub);
            border: 1px solid var(--border);
            white-space: nowrap;
            transition: 0.2s;
        }
        .tab.active {
            background: var(--text);
            color: var(--bg);
            font-weight: 700;
            border-color: var(--text);
        }

        /* CARDS */
        .container { padding: 0 16px; animation: fadeIn 0.4s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .card {
            background: var(--card);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 12px;
        }
        
        .page { display: none; }
        .page.active { display: block; }

        /* SPORT MATCH STYLES */
        .match-header {
            display: flex;
            justify-content: space-between;
            font-size: 11px;
            color: var(--text-sub);
            margin-bottom: 12px;
            font-weight: 600;
            text-transform: uppercase;
        }
        .live-indic { color: var(--danger); display: flex; align-items: center; gap: 4px; }
        .dot { width: 5px; height: 5px; background: var(--danger); border-radius: 50%; animation: pulse 1.5s infinite; }
        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.3; } 100% { opacity: 1; } }

        .teams {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }
        .team-name { width: 35%; font-size: 13px; font-weight: 600; line-height: 1.3; }
        .score { 
            font-size: 20px; 
            font-weight: 800; 
            letter-spacing: 2px; 
            color: var(--text);
            font-variant-numeric: tabular-nums;
        }

        .odds { display: flex; gap: 8px; }
        .odd-btn {
            flex: 1;
            background: #21262d;
            border-radius: 8px;
            padding: 10px 0;
            text-align: center;
            cursor: pointer;
            transition: background 0.2s;
            position: relative;
            overflow: hidden;
        }
        .odd-btn:active { background: #30363d; }
        .odd-name { font-size: 10px; color: var(--text-sub); display: block; margin-bottom: 2px; }
        .odd-val { font-size: 14px; font-weight: 700; color: var(--accent-blue); }
        
        /* Effect when odds change */
        .changed-up { animation: flashGreen 0.6s; }
        .changed-down { animation: flashRed 0.6s; }
        @keyframes flashGreen { 0% {background: rgba(46, 160, 67, 0.4);} 100% {background: #21262d;} }
        @keyframes flashRed { 0% {background: rgba(218, 54, 51, 0.4);} 100% {background: #21262d;} }

        /* GAMES (Mines/Dice) UI */
        .input-row { margin-bottom: 15px; }
        input {
            width: 100%;
            background: #0d1117;
            border: 1px solid var(--border);
            padding: 14px;
            border-radius: 8px;
            color: white;
            font-size: 16px;
            box-sizing: border-box;
            outline: none;
        }
        .action-btn {
            width: 100%;
            padding: 16px;
            background: var(--accent);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
        }
        
        /* MINES GRID */
        .grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 8px; margin-top: 20px; }
        .cell {
            aspect-ratio: 1;
            background: #21262d;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
            cursor: pointer;
            border-bottom: 3px solid #161b22;
        }
        .cell.open { background: #30363d; border-bottom: 0; cursor: default; }
        .cell.win { background: rgba(35, 134, 54, 0.2); border: 1px solid var(--accent); }
        .cell.loss { background: rgba(218, 54, 51, 0.2); border: 1px solid var(--danger); }

        /* DICE 3D */
        .scene { perspective: 800px; height: 160px; display: flex; justify-content: center; align-items: center; }
        .cube { position: relative; width: 70px; height: 70px; transform-style: preserve-3d; transform: rotateX(-30deg) rotateY(-45deg); transition: transform 1s ease; }
        .face { position: absolute; width: 70px; height: 70px; background: rgba(47, 129, 247, 0.9); border: 2px solid #fff; display: flex; justify-content: center; align-items: center; font-size: 30px; font-weight: bold; color: #fff; }
        .f1 { transform: translateZ(35px); } .f6 { transform: rotateY(180deg) translateZ(35px); }
        .f2 { transform: rotateX(90deg) translateZ(35px); } .f5 { transform: rotateX(-90deg) translateZ(35px); }
        .f3 { transform: rotateY(90deg) translateZ(35px); } .f4 { transform: rotateY(-90deg) translateZ(35px); }

        /* NAV */
        .nav {
            position: fixed;
            bottom: 0;
            width: 100%;
            background: var(--nav);
            backdrop-filter: blur(10px);
            border-top: 1px solid var(--border);
            display: flex;
            justify-content: space-around;
            padding: 10px 0 20px 0;
            z-index: 100;
        }
        .nav-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: var(--text-sub);
            font-size: 10px;
            gap: 4px;
        }
        .nav-btn.active { color: var(--text); }
        .nav-icon { font-size: 20px; }

    </style>
</head>
<body>

    <div class="header">
        <div class="logo">ROYAL<span>BET</span></div>
        <div class="balance">
            <span style="color:var(--accent)">‚ÇΩ</span>
            <span id="bal-disp">25000</span>
        </div>
    </div>

    <!-- SPORT PAGE -->
    <div id="p-sport" class="page active">
        <div class="sport-scroll">
            <div class="tab active" onclick="switchSport('football', this)">‚öΩ –§—É—Ç–±–æ–ª</div>
            <div class="tab" onclick="switchSport('hockey', this)">üèí –•–æ–∫–∫–µ–π</div>
            <div class="tab" onclick="switchSport('tennis', this)">üéæ –¢–µ–Ω–Ω–∏—Å</div>
            <div class="tab" onclick="switchSport('basket', this)">üèÄ –ë–∞—Å–∫–µ—Ç</div>
            <div class="tab" onclick="switchSport('table', this)">üèì –ù–∞—Å—Ç–æ–ª–∫–∞</div>
        </div>
        <div id="feed" class="container"></div>
    </div>

    <!-- MINES PAGE -->
    <div id="p-mines" class="page">
        <div class="container" style="padding-top:20px;">
            <h2>Mines</h2>
            <div class="card">
                <input type="number" id="m-bet" value="1000" placeholder="–°—Ç–∞–≤–∫–∞">
                <div style="margin-top:10px"></div>
                <input type="number" id="m-cnt" value="3" placeholder="–ú–∏–Ω (1-24)">
                <div style="margin-top:15px"></div>
                <button class="action-btn" id="m-start" onclick="minesRun()">–ò–ì–†–ê–¢–¨</button>
                <button class="action-btn" id="m-cash" onclick="minesEnd()" style="display:none; background:var(--accent-blue)">–ó–ê–ë–†–ê–¢–¨</button>
            </div>
            <div class="grid" id="m-grid"></div>
        </div>
    </div>

    <!-- DICE PAGE -->
    <div id="p-dice" class="page">
        <div class="container" style="padding-top:20px;">
            <h2>Dice 3D</h2>
            <div class="scene">
                <div class="cube" id="cube">
                    <div class="face f1">1</div><div class="face f6">6</div>
                    <div class="face f2">2</div><div class="face f5">5</div>
                    <div class="face f3">3</div><div class="face f4">4</div>
                </div>
            </div>
            <div class="card">
                <input type="number" id="d-bet" value="1000">
                <div style="display:flex; gap:10px; margin:15px 0;">
                    <div class="odd-btn" onclick="diceSet('odd')"><span class="odd-val">–ù–ï–ß–ï–¢ (x1.9)</span></div>
                    <div class="odd-btn" onclick="diceSet('even')"><span class="odd-val">–ß–ï–¢ (x1.9)</span></div>
                </div>
                <button class="action-btn" onclick="diceRoll()">–ë–†–û–°–ò–¢–¨</button>
            </div>
        </div>
    </div>

    <!-- WALLET PAGE -->
    <div id="p-wallet" class="page">
        <div class="container" style="text-align:center; padding-top:40px;">
            <div style="font-size:12px; color:var(--text-sub)">–û–±—â–∏–π –±–∞–ª–∞–Ω—Å</div>
            <div style="font-size:40px; font-weight:800; margin:10px 0">
                <span style="color:var(--accent)">‚ÇΩ</span> <span id="bal-big">25000</span>
            </div>
            <div class="card" style="margin-top:30px">
                <div style="font-size:12px; color:var(--text-sub); margin-bottom:10px">–°–ø–æ—Å–æ–± –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è</div>
                <button class="action-btn" style="background:#21262d; border:1px solid var(--border)" onclick="alert('–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–∞–±–æ—Ç—ã –Ω–∞ —à–ª—é–∑–µ')">üí≥ –ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞</button>
                <button class="action-btn" style="background:#21262d; border:1px solid var(--border); margin-top:10px" onclick="alert('–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–∞–±–æ—Ç—ã –Ω–∞ —à–ª—é–∑–µ')">üíé Crypto (TON)</button>
            </div>
        </div>
    </div>

    <!-- BOTTOM NAV -->
    <div class="nav">
        <div class="nav-btn active" onclick="go('sport', this)"><div class="nav-icon">üèÜ</div>–°–ø–æ—Ä—Ç</div>
        <div class="nav-btn" onclick="go('mines', this)"><div class="nav-icon">üí£</div>Mines</div>
        <div class="nav-btn" onclick="go('dice', this)"><div class="nav-icon">üé≤</div>Dice</div>
        <div class="nav-btn" onclick="go('wallet', this)"><div class="nav-icon">üí≥</div>–ë–∞–ª–∞–Ω—Å</div>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();

        // --- GLOBAL STATE ---
        let balance = 25000;
        const updateBal = (v) => {
            balance += v;
            document.getElementById('bal-disp').innerText = Math.floor(balance);
            document.getElementById('bal-big').innerText = Math.floor(balance);
        };

        function go(page, el) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById('p-'+page).classList.add('active');
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            el.classList.add('active');
            if(page === 'sport' && matches.length === 0) switchSport('football', document.querySelector('.tab'));
        }

        // ==========================================
        //         BIG DATABASE (REAL NAMES)
        // ==========================================
        const DB = {
            football: [
                "Real Madrid", "Barcelona", "Atletico", "Sevilla", "Valencia", "Betis", // Spain
                "Man City", "Arsenal", "Liverpool", "Man Utd", "Chelsea", "Tottenham", "Newcastle", // England
                "Bayern Munich", "Dortmund", "Leipzig", "Leverkusen", "Eintracht", // Germany
                "PSG", "Monaco", "Marseille", "Lyon", "Lille", // France
                "Inter", "Juventus", "Milan", "Napoli", "Roma", "Lazio", "Atalanta", // Italy
                "Zenit", "Spartak", "CSKA", "Dynamo", "Lokomotiv", "Krasnodar", "Rostov", // Russia
                "Benfica", "Porto", "Sporting", "Ajax", "PSV", "Feyenoord", "Galatasaray" // Others
            ],
            hockey: [
                "CSKA Moscow", "SKA St. Petersburg", "Dynamo Moscow", "Spartak", "Lokomotiv", "Avangard", "Ak Bars", "Metallurg", "Salavat Yulaev", "Traktor", // KHL
                "NY Rangers", "Boston Bruins", "Toronto Maple Leafs", "Tampa Bay Lightning", "Florida Panthers", "Detroit Red Wings", // NHL East
                "Colorado Avalanche", "Dallas Stars", "Vegas Golden Knights", "Edmonton Oilers", "Vancouver Canucks", "LA Kings", "Chicago Blackhawks" // NHL West
            ],
            tennis: [
                "Novak Djokovic", "Carlos Alcaraz", "Daniil Medvedev", "Jannik Sinner", "Andrey Rublev", 
                "Alexander Zverev", "Stefanos Tsitsipas", "Holger Rune", "Hubert Hurkacz", "Taylor Fritz", 
                "Casper Ruud", "Alex de Minaur", "Tommy Paul", "Grigor Dimitrov", "Karen Khachanov", 
                "Frances Tiafoe", "Ben Shelton", "Ugo Humbert", "Nicolas Jarry", "Adrian Mannarino"
            ],
            basket: [
                "LA Lakers", "Boston Celtics", "Golden State Warriors", "Chicago Bulls", "Miami Heat", 
                "Denver Nuggets", "Milwaukee Bucks", "Phoenix Suns", "Dallas Mavericks", "NY Knicks",
                "Philadelphia 76ers", "Cleveland Cavaliers", "LA Clippers", "San Antonio Spurs"
            ],
            table: [
                "Fan Zhendong", "Wang Chuqin", "Ma Long", "Liang Jingkun", "Lin Gaoyuan", 
                "Felix Lebrun", "Hugo Calderano", "Lin Yun-Ju", "Tomokazu Harimoto", "Dimitrij Ovtcharov",
                "Dang Qiu", "Darko Jorgic", "Quadri Aruna", "Jang Woojin", "Truls Moregard"
            ]
        };

        // --- SPORT ENGINE ---
        let currentSport = '';
        let matches = [];
        let timer = null;

        function shuffle(arr) {
            return arr.map(v=>({v,r:Math.random()})).sort((a,b)=>a.r-b.r).map(x=>x.v);
        }

        function switchSport(type, tab) {
            currentSport = type;
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            tab.classList.add('active');
            generateMatches(type);
        }

        function generateMatches(type) {
            clearInterval(timer);
            const feed = document.getElementById('feed');
            feed.innerHTML = '';
            matches = [];

            const list = shuffle([...DB[type]]); // –ö–æ–ø–∏—è –º–∞—Å—Å–∏–≤–∞ —á—Ç–æ–±—ã –Ω–µ –ª–æ–º–∞—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª
            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –¥–æ 15 –º–∞—Ç—á–µ–π
            const count = Math.min(15, Math.floor(list.length / 2));

            for(let i=0; i<count; i++) {
                let m = {
                    id: i,
                    t1: list[i*2],
                    t2: list[i*2+1],
                    s1: Math.floor(Math.random()*2), // –°—Ç–∞—Ä—Ç 0 –∏–ª–∏ 1
                    s2: Math.floor(Math.random()*2),
                    time: Math.floor(Math.random()*60),
                    sport: type,
                    set: 1
                };
                m.coef = getCoef(m.s1, m.s2);
                matches.push(m);
                
                // HTML
                let el = document.createElement('div');
                el.className = 'card';
                el.id = `m-${i}`;
                el.innerHTML = renderMatchHTML(m);
                feed.appendChild(el);
            }

            timer = setInterval(liveUpdate, 2000); // –ë—ã—Å—Ç—Ä–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (2 —Å–µ–∫)
        }

        function renderMatchHTML(m) {
            let info = getLiveInfo(m);
            // –î–ª—è —Ç–µ–Ω–Ω–∏—Å–∞/–Ω–∞—Å—Ç–æ–ª–∫–∏ –Ω–µ—Ç –Ω–∏—á—å–µ–π
            let drawBtn = (m.sport === 'tennis' || m.sport === 'table') ? '' : 
                `<div class="odd-btn" onclick="bet()"><span class="odd-name">X</span><span class="odd-val" id="ox-${m.id}">${m.coef.x}</span></div>`;

            return `
                <div class="match-header">
                    <span>${getLeague(m.sport)}</span>
                    <div class="live-indic"><div class="dot"></div> ${info}</div>
                </div>
                <div class="teams">
                    <div class="team-name">${m.t1}</div>
                    <div class="score" id="s-${m.id}">${m.s1} : ${m.s2}</div>
                    <div class="team-name" style="text-align:right">${m.t2}</div>
                </div>
                <div class="odds">
                    <div class="odd-btn" onclick="bet()"><span class="odd-name">–ü1</span><span class="odd-val" id="o1-${m.id}">${m.coef.w1}</span></div>
                    ${drawBtn}
                    <div class="odd-btn" onclick="bet()"><span class="odd-name">–ü2</span><span class="odd-val" id="o2-${m.id}">${m.coef.w2}</span></div>
                </div>
            `;
        }

        function getLeague(s) {
            if(s==='football') return "Champions League";
            if(s==='hockey') return "NHL / KHL Live";
            if(s==='tennis') return "ATP World Tour";
            if(s==='basket') return "NBA Season";
            if(s==='table') return "WTT Star Contender";
            return "Live Event";
        }

        function getLiveInfo(m) {
            if(m.sport==='football') return `${m.time}'`;
            if(m.sport==='hockey') return `P${(m.time<20?1:(m.time<40?2:3))} ${m.time%20}'`;
            if(m.sport==='basket') return `Q${(m.time<12?1:(m.time<24?2:3))} ${m.time%12}'`;
            if(m.sport==='tennis' || m.sport==='table') return `Set ${m.set}`;
            return 'Live';
        }

        function getCoef(s1, s2) {
            let d = s1 - s2;
            let base = 1.90;
            // –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –∫—ç—Ñ–æ–≤
            let w1 = (base - (d * 0.2)).toFixed(2);
            let w2 = (base + (d * 0.2)).toFixed(2);
            let x = (3.20 + Math.abs(d)*0.1).toFixed(2);
            
            if(w1 < 1.01) w1 = 1.01; if(w2 < 1.01) w2 = 1.01;
            return { w1, w2, x };
        }

        function liveUpdate() {
            matches.forEach(m => {
                // –®–∞–Ω—Å –≥–æ–ª–∞/–æ—á–∫–∞
                if(Math.random() > 0.65) {
                    // –ö—Ç–æ –∑–∞–±–∏–ª?
                    let scorer = Math.random() > 0.5 ? 1 : 2;
                    
                    // –õ–æ–≥–∏–∫–∞ –æ—á–∫–æ–≤
                    let points = 1; 
                    if(m.sport === 'basket') points = Math.random()>0.6 ? 2 : 3;
                    
                    if(scorer===1) m.s1 += points; else m.s2 += points;
                    m.time++;

                    // –ü–µ—Ä–µ—Å—á–µ—Ç –∫—ç—Ñ–æ–≤
                    let newCoef = getCoef(m.s1, m.s2);
                    
                    // DOM Update
                    let scoreEl = document.getElementById(`s-${m.id}`);
                    if(scoreEl) scoreEl.innerText = `${m.s1} : ${m.s2}`;
                    
                    updateOdd(`o1-${m.id}`, newCoef.w1, m.coef.w1);
                    updateOdd(`o2-${m.id}`, newCoef.w2, m.coef.w2);
                    if(document.getElementById(`ox-${m.id}`)) updateOdd(`ox-${m.id}`, newCoef.x, m.coef.x);

                    m.coef = newCoef;
                }
            });
        }

        function updateOdd(id, newVal, oldVal) {
            let el = document.getElementById(id);
            if(!el) return;
            el.innerText = newVal;
            let p = el.parentElement;
            p.classList.remove('changed-up', 'changed-down');
            void p.offsetWidth; // trigger reflow
            if(newVal > oldVal) p.classList.add('changed-up');
            else if(newVal < oldVal) p.classList.add('changed-down');
        }

        function bet() {
            if(confirm("–°–¥–µ–ª–∞—Ç—å —Å—Ç–∞–≤–∫—É 1000‚ÇΩ?")) {
                if(balance<1000) return alert("–ú–∞–ª–æ —Å—Ä–µ–¥—Å—Ç–≤");
                updateBal(-1000);
                tg.showAlert("–°—Ç–∞–≤–∫–∞ –ø—Ä–∏–Ω—è—Ç–∞!");
            }
        }

        // --- MINES ---
        let mData = {act:false, grid:[], bet:0, mult:1};
        function minesRun() {
            if(mData.act) return;
            let b = +document.getElementById('m-bet').value;
            let c = +document.getElementById('m-cnt').value;
            if(b>balance) return alert("–ù–µ—Ç –¥–µ–Ω–µ–≥");
            updateBal(-b);
            mData = {act:true, bet:b, mult:1, grid:Array(25).fill(0)};
            document.getElementById('m-start').style.display='none';
            document.getElementById('m-cash').style.display='block';
            document.getElementById('m-cash').innerText = `–ó–ê–ë–†–ê–¢–¨ ${b}`;
            
            let p=0; while(p<c){ let r=Math.floor(Math.random()*25); if(!mData.grid[r]){mData.grid[r]=1; p++}}
            
            let h = document.getElementById('m-grid'); h.innerHTML='';
            for(let i=0;i<25;i++){
                let d=document.createElement('div'); d.className='cell';
                d.onclick=()=>mineClick(i,d); h.appendChild(d);
            }
        }
        function mineClick(i, el) {
            if(!mData.act || el.classList.contains('open')) return;
            el.classList.add('open');
            if(mData.grid[i]) { // BOOM
                el.classList.add('loss'); el.innerText='üí•';
                mData.act=false; tg.showAlert("–í–∑—Ä—ã–≤!");
                resetMines();
            } else {
                el.classList.add('win'); el.innerText='üíé';
                mData.mult*=1.15;
                let w = Math.floor(mData.bet*mData.mult);
                document.getElementById('m-cash').innerText = `–ó–ê–ë–†–ê–¢–¨ ${w}`;
            }
        }
        function minesEnd(){
            if(!mData.act) return;
            let w = Math.floor(mData.bet*mData.mult);
            updateBal(w); tg.showAlert(`–í—ã–∏–≥—Ä—ã—à: ${w}`);
            mData.act=false; resetMines();
        }
        function resetMines(){
            document.getElementById('m-start').style.display='block';
            document.getElementById('m-cash').style.display='none';
        }

        // --- DICE ---
        let dType = null;
        function diceSet(t) { dType = t; tg.showAlert("–í—ã–±—Ä–∞–Ω–æ: "+t); }
        function diceRoll() {
            let b = +document.getElementById('d-bet').value;
            if(b>balance) return alert("–ù–µ—Ç –¥–µ–Ω–µ–≥");
            if(!dType) return alert("–í—ã–±–µ—Ä–∏—Ç–µ –ß–ï–¢/–ù–ï–ß–ï–¢");
            updateBal(-b);
            
            let res = Math.floor(Math.random()*6)+1;
            // –ê–Ω–∏–º–∞—Ü–∏—è –≤—Ä–∞—â–µ–Ω–∏—è CSS
            let rx = (Math.random()*10+5)*360;
            let ry = (Math.random()*10+5)*360;
            // –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ —É–≥–ª–∞ –ø–æ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç (—É–ø—Ä–æ—â–µ–Ω–Ω–æ –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞ –≤—Å–µ–≥–¥–∞ –ø–∞–¥–∞–µ–º –∫—Ä–∞—Å–∏–≤–æ)
            // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ —Ç—É—Ç –Ω—É–∂–Ω–∞ –∫–∞—Ä—Ç–∞ —É–≥–ª–æ–≤
            
            document.getElementById('cube').style.transform = `rotateX(${rx}deg) rotateY(${ry}deg)`;
            
            setTimeout(()=>{
                let win = (dType==='odd' && res%2!==0) || (dType==='even' && res%2===0);
                if(win) {
                    updateBal(Math.floor(b*1.9));
                    tg.showAlert(`–í—ã–ø–∞–ª–æ ${res}. –ü–æ–±–µ–¥–∞!`);
                } else tg.showAlert(`–í—ã–ø–∞–ª–æ ${res}.`);
            }, 1100);
        }

        // INIT
        switchSport('football', document.querySelector('.tab'));
        minesRun(); mData.act=false; resetMines(); // Init grid
    </script>
</body>
</html>
